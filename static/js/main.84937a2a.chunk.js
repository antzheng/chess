(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ChessEnum",(function(){return d})),n.d(r,"DEFAULT",(function(){return j})),n.d(r,"flipBoard",(function(){return E})),n.d(r,"isActiveTile",(function(){return w})),n.d(r,"isCheckMate",(function(){return A})),n.d(r,"isInCheck",(function(){return S})),n.d(r,"isOutOfBounds",(function(){return x})),n.d(r,"isValidPiece",(function(){return K})),n.d(r,"getImageSrc",(function(){return C})),n.d(r,"getPieceFromXY",(function(){return I})),n.d(r,"getTileColor",(function(){return G})),n.d(r,"generateNewBoard",(function(){return D})),n.d(r,"choosePiece",(function(){return L})),n.d(r,"movePiece",(function(){return T}));var a=n(2),c=n.n(a),i=n(7),u=n.n(i),o=n(3),s=n(0),l={bishopDark:n.p+"static/media/bishop-dark.99ecd7c8.svg",kingDark:n.p+"static/media/king-dark.044fe330.svg",knightDark:n.p+"static/media/knight-dark.6383ac9d.svg",pawnDark:n.p+"static/media/pawn-dark.ce285b7c.svg",queenDark:n.p+"static/media/queen-dark.35ebf88c.svg",rookDark:n.p+"static/media/rook-dark.c65697c2.svg",bishopLight:n.p+"static/media/bishop-light.fb973169.svg",kingLight:n.p+"static/media/king-light.f0c34dda.svg",knightLight:n.p+"static/media/knight-light.00236166.svg",pawnLight:n.p+"static/media/pawn-light.8edd8ce1.svg",queenLight:n.p+"static/media/queen-light.0e2777be.svg",rookLight:n.p+"static/media/rook-light.2f973e2c.svg"},d={ROOK:"rook",KNIGHT:"knight",BISHOP:"bishop",QUEEN:"queen",KING:"king",PAWN:"pawn",LIGHT:"light",DARK:"dark"},f=Array(8).fill(d.PAWN),v=[d.ROOK,d.KNIGHT,d.BISHOP,d.QUEEN,d.KING,d.BISHOP,d.KNIGHT,d.ROOK],j=[v.map((function(e){return e+"-dark-unmoved"})),f.map((function(e){return e+"-dark-unmoved"}))].concat(Object(o.a)(Array(4).fill().map((function(){return Array(8).fill(null)}))),[f.map((function(e){return e+"-light-unmoved"})),v.map((function(e){return e+"-light-unmoved"}))]),b=function(e,t,n,r,a){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u={bishop:h,king:k,knight:H,pawn:p,queen:g,rook:m};return u[e](t,n,r,a,c,i)},O=function(e,t,n,r,a,c,i){var u=[],o=c?8:2;return e.forEach((function(e){for(var c=Object(s.a)(e,2),i=c[0],l=c[1],d=1;d<o;d++){var f=t+i*d,v=n+l*d;if(x(f,v))return;var j=I(f,v,a),b=Object(s.a)(j,2),O=b[0],p=b[1];if(K(O))return void(p!==r&&u.push([f,v]));u.push([f,v])}})),i?u.filter((function(e){var c=Object(s.a)(e,2),i=c[0],u=c[1],o=D(t,n,i,u,a);return!S(r,o)})):u},p=function(e,t,n,r,a){var c=[],i=6===e;[[e+-1,t-1],[e+-1,t+1]].forEach((function(e){var t=Object(s.a)(e,2),a=t[0],i=t[1];if(!x(a,i)){var u=I(a,i,r),o=Object(s.a)(u,2),l=o[0],d=o[1];null!==l&&d!==n&&c.push([a,i])}}));var u=[[e+-1,t]];if(i){var l=I.apply(void 0,Object(o.a)(u[0]).concat([r])),d=Object(s.a)(l,1)[0];K(d)||u.push([e+-2,t])}if(u.forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];if(!x(n,a)){var i=I(n,a,r);null===Object(s.a)(i,1)[0]&&c.push([n,a])}})),!a)return c;for(var f=0,v=c;f<v.length;f++){var j=Object(s.a)(v[f],2),b=j[0],O=j[1],p=D(e,t,b,O,r);if(S(n,p))return[]}return c},h=function(e,t,n,r,a){return O([[-1,-1],[-1,1],[1,-1],[1,1]],e,t,n,r,!0,a)},m=function(e,t,n,r,a){return O([[-1,0],[1,0],[0,-1],[0,1]],e,t,n,r,!0,a)},g=function(e,t,n,r,a){return O([[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[-1,1],[1,-1],[1,1]],e,t,n,r,!0,a)},k=function(e,t,n,r,a){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=[[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[-1,1],[1,-1],[1,1]],u=O(i,e,t,n,r,!1,a),o=I(e,t,r),l=Object(s.a)(o,3),d=l[2],f=E(r);return c&&d&&!S(n,f)&&(N(e,t,r,!0,f)&&u.push([e,t-2]),N(e,t,r,!1,f)&&u.push([e,t+2])),u},N=function(e,t,n,r,a){var c=I(e,r?0:7,n),i=Object(s.a)(c,3),u=i[1];if(!i[2])return!1;var l=r?-1:1,d=[e,t+l],f=[e,t+2*l];if([d,f].some((function(e){var t=Object(s.a)(e,2),r=t[0],a=t[1],c=I(r,a,n),i=Object(s.a)(c,1)[0];return K(i)})))return!1;for(var v=[],j=0;j<8;j++)for(var O=0;O<8;O++){var p=I(j,O,a),h=Object(s.a)(p,2),m=h[0],g=h[1];K(m)&&(u!==g&&v.push.apply(v,Object(o.a)(b(m,j,O,g,a,!1,!1))))}return!v.some((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return r=7-r,(n=7-n)===d[0]&&r===d[1]||n===f[0]&&r===f[1]}))},H=function(e,t,n,r,a){return O([[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]],e,t,n,r,!1,a)},x=function(e,t){return e<0||e>=8||t<0||t>=8},I=function(e,t,n){return null===n[e][t]?[null,null,null]:n[e][t].split("-")},K=function(e){return null!==e&&Object.values(d).includes(e)},E=function(e){var t=e.map((function(e){return Object(o.a)(e)}));return t.reverse(),t.forEach((function(e){return e.reverse()})),t},D=function(e,t,n,r,a){var c=a.map((function(e){return Object(o.a)(e)})),i=I(n,r,c);"enpassant"===Object(s.a)(i,1)[0]&&(c[n+1][r]=null);var u=I(e,t,a),l=Object(s.a)(u,2),d=l[0],f=l[1];c[n][r]=d+"-"+f,c[e][t]=null,c.reverse(),c.forEach((function(e){return e.reverse()}));for(var v=0;v<8;v++)for(var j=0;j<8;j++){var b=I(v,j,c),O=Object(s.a)(b,1)[0];K(O)||(c[v][j]=null)}return c},A=function(e,t){for(var n=null,r=[],a=[],c=0;c<8;c++)for(var i=0;i<8;i++){var u=I(c,i,t),l=Object(s.a)(u,2),f=l[0],v=l[1];if(K(f)){var j=f===e?a:r;f!==d.KING?j.push({piece:f,coords:[c,i],moves:b(f,c,i,v,t)}):v===e&&(n=[c,i])}}if(0===b.apply(void 0,[d.KING].concat(Object(o.a)(n),[e,t])).length){var O=[];if(r.forEach((function(e){var t=e.piece,r=e.coords;e.moves.some((function(e){var t=Object(s.a)(e,2),r=t[0],a=t[1];return r===n[0]&&a===n[1]}))&&O.push({piece:t,coords:r})})),O.length>1)return!0;if(!a.some((function(n){var r=n.coords;return n.moves.some((function(n){var a=Object(s.a)(n,2),c=a[0],i=a[1],u=D.apply(void 0,Object(o.a)(r).concat([c,i,t]));return!S(e,u)}))})))return!0}return!1},S=function(e,t){var n=null,r=[];t=t.map((function(e){return Object(o.a)(e)}));for(var a=0;a<8;a++)for(var c=0;c<8;c++){var i=I(a,c,t),u=Object(s.a)(i,2),l=u[0],f=u[1];K(l)&&(t[a][c]=l+"-"+f,e!==f?r.push.apply(r,Object(o.a)(b(l,a,c,f,t,!1))):l===d.KING&&(n=[a,c]))}return r.some((function(e){var t=Object(s.a)(e,2),r=t[0],a=t[1];return r===n[0]&&a===n[1]}))},G=function(e){var t=Object(s.a)(e,2),n=(t[0]+t[1])%2?"tile-dark":"tile-light";return"".concat("tile"," ").concat(n)},w=function(e,t,n){var r=Object(s.a)(e,2),a=r[0],c=r[1],i=Object(s.a)(t,2),u=i[0],o=i[1];return u===a&&o===c||n.some((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return n===u&&r===o}))},C=function(e,t){var n=e+t.charAt(0).toUpperCase()+t.slice(1);return l[n]},L=function(e,t){var n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(s.a)(t.boardHandler,1)[0],i=Object(s.a)(t.turnHandler,1)[0],u=Object(s.a)(t.activeHandler,2)[1],o=Object(s.a)(t.previewHandler,2)[1],l=I(r,a,c),f=Object(s.a)(l,2),v=f[0],j=f[1];if(!K(v))return u(null),void o([]);j===(i?d.LIGHT:d.DARK)&&(u([r,a]),o(b(v,r,a,j,c)))},T=function(e,t,n){var r=Object(s.a)(e,2),a=r[0],c=r[1],i=Object(s.a)(t,2),u=i[0],o=i[1],l=Object(s.a)(n.turnHandler,2),f=l[0],v=l[1],j=Object(s.a)(n.boardHandler,2),O=j[0],p=j[1],h=Object(s.a)(n.activeHandler,2)[1],m=Object(s.a)(n.previewHandler,2)[1],g=Object(s.a)(n.promotionHandler,2)[1];if(a===u&&c===o)return h(null),void m([]);var k=I(a,c,O),N=Object(s.a)(k,2),H=N[0],x=N[1];if(b(H,a,c,x,O).some((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return n===u&&r===o}))){var K=D(a,c,u,o,O);if(H===d.PAWN&&u===a-2&&(K[2][7-o]="enpassant-"+x),H===d.KING&&[c-2,c+2].includes(o)){var A=o<c?1:-1,S=o<c?7:0;K[0][S]=null,K[0][7-(o+A)]=d.ROOK+"-"+x}if(H===d.PAWN&&0===u)return h(null),m([]),p(E(K)),void g([u,o]);h(null),m([]),p(K),v(!f)}else L([u,o],n)},y=n(1),P=function(e){var t=e.piece,n=e.color,r=e.isDraggable;return K(t)?Object(y.jsx)("img",{className:"chess-piece",draggable:r,src:C(t,n),alt:"chess piece"}):null},B=function(e){var t=e.color,n=e.promotionClickHandler;return Object(y.jsx)("div",{className:"mask",children:Object(y.jsx)("div",{className:"promotion-modal",children:[d.QUEEN,d.KNIGHT,d.ROOK,d.BISHOP].map((function(e){return Object(y.jsx)("div",{className:"modal-tile",onClick:function(){return n(e,t)},children:Object(y.jsx)("img",{className:"modal-pieces",draggable:!1,src:C(e,t),alt:"chess piece"})})}))})})},R=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(j),u=Object(s.a)(i,2),l=u[0],f=u[1],v=Object(a.useState)(null),b=Object(s.a)(v,2),O=b[0],p=b[1],h=Object(a.useState)([]),m=Object(s.a)(h,2),g=m[0],k=m[1],N=Object(a.useState)(null),H=Object(s.a)(N,2),x=H[0],K=H[1],D=Object(a.useState)(!1),C=Object(s.a)(D,2),R=C[0],W=C[1],q=Object(a.useState)(!1),U=Object(s.a)(q,2),Q=U[0],F=U[1],J=Object(a.useState)(null),M=Object(s.a)(J,2),V=M[0],X=M[1],Y={turnHandler:[n,c],boardHandler:[l,f],activeHandler:[O,p],previewHandler:[g,k],promotionHandler:[V,X]},z=Object(y.jsxs)("div",{className:"turn-text",children:[R&&Object(y.jsx)("span",{style:{color:"red"},children:"CHECK: "}),Object(y.jsx)("span",{className:"highlight",children:n?"WHITE":"BLACK"})," to move!"]});Q&&(z=Object(y.jsx)("div",{className:"turn-text",children:Object(y.jsxs)("span",{style:{color:"CornflowerBlue"},children:[n?"BLACK":"WHITE"," WINS!"]})}));return Object(y.jsxs)("div",{className:"board",children:[z,V&&Object(y.jsx)(B,{color:n?d.LIGHT:d.DARK,promotionClickHandler:function(e,t){var r=Object(s.a)(V,2),a=r[0],i=r[1],u=l.map((function(e){return Object(o.a)(e)}));u[a][i]=e+"-"+t,X(null),f(E(u)),c(!n)}}),l.map((function(e,t){return Object(y.jsx)("div",{className:"board-row",children:e.map((function(e,a){var c=[t,a],i=I.apply(r,c.concat([l])),u=Object(s.a)(i,2),o=u[0],f=u[1],v=O&&w(O,c,g),j=x&&w(x,c,[]),b=n&&f===d.LIGHT||!n&&f===d.DARK;if(!Q&&o===d.KING&&b){var p=E(l);if(S(f,p))A(f,p)?Q||F(!0):R||W(!0);else R&&W(!1)}return Object(y.jsxs)("div",{className:G(c),onClick:function(){O?T(O,c,Y):L(c,Y)},onDragStart:function(){L(c,Y)},onDragEnter:function(){K(c)},onDragEnd:function(){O&&x&&(T(O,x,Y),K(null))},onDragOver:function(e){return e.preventDefault()},children:[v&&Object(y.jsx)("div",{className:"active"}),j&&Object(y.jsx)("div",{className:"hovered"}),Object(y.jsx)(P,{piece:o,color:f,isDraggable:b})]},a)}))},t)}))]})},W=function(){return Object(y.jsx)("div",{className:"chess-page",children:Object(y.jsx)(R,{})})},q=(n(13),function(){return Object(y.jsx)("div",{className:"ultra",children:Object(y.jsx)(W,{})})});u.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.84937a2a.chunk.js.map